/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{-webkit-user-select:text;user-select:text;white-space:pre}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}.vision-overlay-container{position:absolute;top:12px;right:12px;z-index:1000;pointer-events:none}.vision-overlay{pointer-events:auto;background:#1e1e1efa;border:1px solid rgba(249,115,22,.5);border-radius:8px;box-shadow:0 8px 32px #00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);min-width:320px;max-width:500px;max-height:600px;overflow:hidden;display:flex;flex-direction:column;animation:visionSlideIn .2s ease-out}@keyframes visionSlideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.vision-overlay-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid rgba(249,115,22,.3);background:#f973161a}.vision-overlay-title{display:flex;align-items:center;gap:8px;font-weight:600;color:#f97316;font-size:14px}.vision-git-icon{font-size:18px}.vision-branch-name{color:#94a3b8;font-size:13px;font-weight:400}.vision-close-btn{background:none;border:none;color:#94a3b8;font-size:24px;line-height:1;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .15s ease}.vision-close-btn:hover{background:#ffffff1a;color:#fff}.vision-overlay-content{padding:12px;overflow-y:auto;max-height:500px}.vision-file-section{margin-bottom:16px}.vision-section-header{font-size:12px;font-weight:600;color:#94a3b8;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.vision-file-item{display:flex;align-items:center;gap:8px;padding:6px 8px;border-radius:4px;margin-bottom:4px;transition:background .15s ease}.vision-file-item:hover{background:#f973161a}.vision-file-icon{font-size:14px;width:16px;text-align:center;color:#f97316}.vision-file-name{flex:1;font-size:13px;color:#e2e8f0;font-family:Cascadia Code,monospace;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vision-file-action{background:#f9731633;border:1px solid rgba(249,115,22,.4);color:#f97316;padding:4px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:all .15s ease}.vision-file-action:hover,.vision-file-action:focus{background:#f973164d;border-color:#f97316;color:#fff;outline:none}.vision-file-action:focus{box-shadow:0 0 0 3px #f973164d}.vision-actions{margin-top:12px;padding-top:12px;border-top:1px solid rgba(249,115,22,.2)}.vision-action-btn{width:100%;background:#f9731633;border:1px solid rgba(249,115,22,.4);color:#f97316;padding:8px 16px;border-radius:4px;font-size:13px;font-weight:600;cursor:pointer;transition:all .15s ease}.vision-action-btn:hover{background:#f973164d;border-color:#f97316;color:#fff}.vision-overlay-footer{padding:8px 16px;border-top:1px solid rgba(249,115,22,.2);background:#0000004d}.vision-hint{font-size:11px;color:#64748b;font-style:italic}body.light-theme .vision-overlay{background:#fffffffa;border-color:#f9731666}body.light-theme .vision-overlay-header{background:#f9731614}body.light-theme .vision-file-name{color:#1e293b}body.light-theme .vision-close-btn{color:#475569}body.light-theme .vision-close-btn:hover{background:#0000000d;color:#1e293b}.json-overlay .vision-overlay-content{max-height:500px;overflow:auto}.json-preview{background:#0a0a0a;border:1px solid #333;border-radius:4px;padding:12px;font-family:Cascadia Code,monospace;font-size:12px;color:#e2e8f0;overflow-x:auto;margin-bottom:12px;line-height:1.5}body.light-theme .json-preview{background:#f8f9fa;border-color:#dee2e6;color:#1e293b}.filepath-overlay .vision-overlay-content{max-height:500px}.file-path-item{display:flex;align-items:flex-start;gap:12px;padding:12px;border-bottom:none}.file-path-item .vision-file-icon{font-size:24px;margin-top:2px}.file-path-info{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.file-path-info .vision-file-name{font-family:Monaco,Menlo,Courier New,monospace;font-size:13px;color:#61dafb;word-break:break-all}.file-path-meta{font-size:11px;color:#888;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.file-path-actions{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px;padding:0 12px 12px 56px}.vision-action-btn.compact{padding:6px 12px;font-size:12px;min-width:auto}.filepath-overlay .vision-file-section{margin-bottom:4px;background:#ffffff05;border-radius:6px;transition:background .2s}.filepath-overlay .vision-file-section:hover{background:#ffffff0d}.filepath-overlay .vision-file-section:last-child{border-bottom:none}.release-manager-card{background:linear-gradient(135deg,#1f2937,#111827);border:2px solid #f97316;border-radius:12px;padding:24px;margin:16px 0;box-shadow:0 10px 30px #f973161a;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;color:#e5e7eb}.release-manager-header{margin-bottom:24px}.release-manager-title{display:flex;align-items:center;gap:8px;font-size:1.3em;font-weight:700;color:#fbbf24;margin-bottom:12px}.release-icon{color:#f97316;animation:slideUp .6s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.version-display{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#f973161a;border-radius:8px;border:1px solid rgba(249,115,22,.3)}.current-version{background:#374151;padding:4px 8px;border-radius:4px;font-family:Monaco,monospace;font-weight:700;color:#9ca3af}.arrow{color:#f97316;font-weight:700;font-size:1.2em}.next-version{background:linear-gradient(135deg,#f97316,#ea580c);padding:4px 8px;border-radius:4px;font-family:Monaco,monospace;font-weight:700;color:#fff}.release-manager-loading,.release-manager-error{padding:20px;text-align:center;color:#9ca3af}.spinner{display:inline-block;width:20px;height:20px;border:3px solid rgba(249,115,22,.3);border-top-color:#f97316;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:10px}.release-manager-error{background:#ef44441a;border-left:3px solid #ef4444;border-radius:6px}.release-manager-buttons{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-bottom:24px}.increment-button{display:flex;flex-direction:column;align-items:center;gap:4px;padding:16px 12px;background:#374151;border:2px solid #4b5563;border-radius:8px;color:#d1d5db;cursor:pointer;transition:all .3s ease;font-weight:700}.increment-button:hover{background:#4b5563;border-color:#f97316;color:#fbbf24;transform:translateY(-2px)}.increment-button.active{background:linear-gradient(135deg,#f97316,#ea580c);border-color:#f97316;color:#fff;box-shadow:0 4px 12px #f973164d}.button-label{font-size:.95em;letter-spacing:.5px}.button-example{font-size:.75em;color:#9ca3af;font-family:Monaco,monospace;opacity:.8}.increment-button.active .button-example{color:#fffc}.release-type-info{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#3b82f61a;border-left:3px solid #3b82f6;border-radius:6px;margin-bottom:16px}.release-type-label{font-weight:700;color:#9ca3af}.release-type-value{background:#3b82f6;padding:4px 8px;border-radius:4px;font-weight:700;color:#fff}.release-manager-actions{display:flex;justify-content:center;margin-bottom:16px}.toggle-command-btn{padding:8px 16px;background:#374151;border:1px solid #4b5563;border-radius:6px;color:#d1d5db;cursor:pointer;font-weight:700;transition:all .3s ease}.toggle-command-btn:hover{background:#4b5563;border-color:#f97316;color:#fbbf24}.command-display{background:#0f172a;border:1px solid #1e3a5f;border-radius:8px;padding:16px;margin-bottom:16px;font-family:Monaco,monospace}.command-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #1e3a5f}.command-header span{font-weight:700;color:#9ca3af;font-size:.9em}.copy-button{display:flex;align-items:center;gap:4px;padding:4px 12px;background:#1e3a5f;border:1px solid #3b82f6;border-radius:4px;color:#3b82f6;cursor:pointer;font-size:.85em;font-weight:700;transition:all .3s ease}.copy-button:hover{background:#3b82f6;color:#fff}.command-code{display:block;color:#10b981;font-size:.85em;line-height:1.6;word-break:break-all;white-space:pre-wrap}.release-manager-footer{display:flex;flex-direction:column;gap:12px}.execute-button{padding:12px 24px;background:linear-gradient(135deg,#f97316,#ea580c);border:none;border-radius:8px;color:#fff;font-size:1em;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #f973164d}.execute-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #f9731666}.execute-button:disabled{opacity:.5;cursor:not-allowed}.release-info{display:flex;flex-direction:column;gap:6px;padding:12px;background:#10b9811a;border-left:3px solid #10b981;border-radius:6px}.info-text{font-size:.9em;color:#9ca3af;margin:0}.system-cards-section{margin-bottom:24px}.system-cards-divider,.user-cards-divider{display:flex;align-items:center;gap:12px;margin:24px 0 16px;color:#9ca3af;font-weight:700;font-size:.9em;text-transform:uppercase;letter-spacing:.5px}.system-cards-divider:before,.system-cards-divider:after,.user-cards-divider:before,.user-cards-divider:after{content:"";flex:1;height:1px;background:linear-gradient(to right,transparent,#4b5563,transparent)}.system-cards-divider{color:#f97316;font-weight:700}.system-cards-divider:before,.system-cards-divider:after{background:linear-gradient(to right,transparent,#f97316,transparent)}@media (max-width: 768px){.release-manager-card{padding:16px}.release-manager-buttons{grid-template-columns:1fr}.version-display{flex-wrap:wrap;gap:8px}.command-display{overflow-x:auto}.system-cards-divider span,.user-cards-divider span{font-size:.8em}}.file-explorer{display:flex;flex-direction:column;height:100%;background:var(--bg-primary);border-right:1px solid var(--border-color);overflow:hidden}.file-explorer-header{display:flex;align-items:center;gap:8px;padding:12px;font-weight:600;border-bottom:1px solid var(--border-color);background:var(--bg-secondary)}.file-explorer-refresh-btn{margin-left:auto;background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.file-explorer-refresh-btn:hover:not(:disabled){background:var(--hover-bg);color:var(--text)}.file-explorer-refresh-btn:disabled{opacity:.5;cursor:not-allowed}.file-explorer-refresh-btn .spinning{animation:spin 1s linear infinite}.file-explorer-tree{flex:1;overflow-y:auto;padding:8px 0}.file-tree-item{display:flex;align-items:center;gap:4px;padding:4px 8px;cursor:pointer;-webkit-user-select:none;user-select:none;white-space:nowrap}.file-tree-item:hover{background:var(--hover-bg)}.file-tree-item.gitignored{opacity:.6;font-style:italic}.file-tree-chevron{width:16px;display:flex;align-items:center;justify-content:center;color:var(--text-secondary)}.file-tree-icon{display:flex;align-items:center;color:var(--text-secondary)}.file-tree-name{flex:1;font-size:13px}.file-explorer-loading,.file-explorer-error{padding:20px;text-align:center;color:var(--text-secondary);display:flex;flex-direction:column;align-items:center;gap:12px}.file-explorer-error{color:#ef4444}.file-explorer-retry-btn{padding:8px 16px;background:var(--accent-color, #f97316);border:none;border-radius:6px;color:#fff;font-weight:600;cursor:pointer;transition:opacity .2s}.file-explorer-retry-btn:hover{opacity:.9}.context-menu{position:fixed;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;box-shadow:0 4px 12px #0000004d;padding:4px 0;min-width:200px;z-index:10000}.context-menu-item{padding:8px 16px;font-size:13px;cursor:pointer;white-space:nowrap}.context-menu-item:hover{background:var(--hover-bg)}.context-menu-separator{height:1px;background:var(--border-color);margin:4px 0}.monaco-editor-container{display:flex;flex-direction:column;height:100%;background:var(--bg-primary)}.monaco-toolbar{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.monaco-toolbar-left{display:flex;align-items:center;gap:8px}.monaco-filename{font-weight:600;font-size:14px}.monaco-modified-indicator{color:#f59e0b;font-size:20px;line-height:1}.monaco-toolbar-right{display:flex;align-items:center;gap:8px}.monaco-toolbar-btn{display:flex;align-items:center;gap:4px;padding:6px 12px;border:none;background:var(--button-bg);color:var(--button-text);border-radius:4px;cursor:pointer;font-size:13px;transition:all .2s}.monaco-toolbar-btn:hover:not(:disabled){background:var(--button-hover-bg)}.monaco-toolbar-btn:disabled{opacity:.5;cursor:not-allowed}.monaco-editor-wrapper{flex:1;overflow:hidden}.monaco-loading{display:flex;align-items:center;justify-content:center;height:100%;color:var(--text-secondary)}.conversation-viewer-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.conversation-viewer{background:var(--bg-secondary, #1e1e1e);border:1px solid var(--border-color, #333);border-radius:8px;width:90%;max-width:1200px;height:85vh;display:flex;flex-direction:column;box-shadow:0 10px 40px #00000080;animation:slideUp .3s ease-out}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.conversation-viewer-header{display:flex;justify-content:space-between;align-items:flex-start;padding:20px;border-bottom:1px solid var(--border-color, #333)}.header-info h3{margin:0 0 8px;font-size:18px;color:var(--text-primary, #fff)}.conversation-meta{display:flex;gap:16px;font-size:13px;color:var(--text-secondary, #999)}.meta-item{display:flex;align-items:center;gap:4px}.close-button{background:transparent;border:1px solid var(--border-color, #444);color:var(--text-secondary, #999);width:32px;height:32px;border-radius:4px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.close-button:hover{background:var(--bg-hover, #2a2a2a);border-color:var(--border-hover, #555);color:var(--text-primary, #fff)}.snapshot-controls{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;border-bottom:1px solid var(--border-color, #333);background:var(--bg-tertiary, #252525)}.nav-button{display:flex;align-items:center;gap:6px;background:var(--bg-secondary, #2a2a2a);border:1px solid var(--border-color, #444);color:var(--text-primary, #fff);padding:6px 12px;border-radius:4px;font-size:13px;cursor:pointer;transition:all .2s}.nav-button:hover:not(:disabled){background:var(--bg-hover, #333);border-color:var(--accent-color, #4a9eff)}.nav-button:disabled{opacity:.4;cursor:not-allowed}.snapshot-counter{font-size:13px;color:var(--text-secondary, #999);font-weight:500}.conversation-viewer-body{flex:1;overflow:auto;padding:20px;background:var(--bg-primary, #1a1a1a)}.conversation-viewer-body.loading,.conversation-viewer-body.error,.conversation-viewer-body.empty{display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text-secondary, #999)}.conversation-viewer-body.error{color:var(--error-color, #ff5555)}.snapshot-timestamp{font-size:12px;color:var(--text-tertiary, #666);margin-bottom:12px;font-family:Courier New,monospace}.snapshot-content{font-family:Courier New,Monaco,monospace;font-size:13px;line-height:1.5;color:var(--text-primary, #ddd);background:var(--bg-code, #0d0d0d);padding:16px;border-radius:4px;border:1px solid var(--border-color, #2a2a2a);overflow-x:auto;white-space:pre-wrap;word-wrap:break-word}.conversation-viewer-footer{padding:12px 20px;border-top:1px solid var(--border-color, #333);background:var(--bg-tertiary, #252525)}.keyboard-hints{margin:0;font-size:12px;color:var(--text-tertiary, #666);text-align:center}.keyboard-hints kbd{display:inline-block;padding:2px 6px;margin:0 2px;font-size:11px;background:var(--bg-secondary, #2a2a2a);border:1px solid var(--border-color, #444);border-radius:3px;font-family:Courier New,monospace}.hint{font-size:13px;color:var(--text-tertiary, #666);margin-top:8px}.conversation-viewer-body::-webkit-scrollbar{width:10px;height:10px}.conversation-viewer-body::-webkit-scrollbar-track{background:var(--bg-primary, #1a1a1a)}.conversation-viewer-body::-webkit-scrollbar-thumb{background:var(--border-color, #444);border-radius:5px}.conversation-viewer-body::-webkit-scrollbar-thumb:hover{background:var(--border-hover, #555)}.chat-message{display:flex;flex-direction:column;gap:8px;padding:12px;border-radius:8px;background:#252525;border:1px solid #333}.chat-message-user{background:#1a2332;border-color:#2a3342}.chat-message-assistant{background:#2a2520;border-color:#3a3530}.chat-message-error{background:#3a1f1f;border-color:#5a2f2f}.message-header{display:flex;align-items:center;gap:8px;font-size:12px}.message-icon{font-size:16px;flex-shrink:0}.message-role{font-weight:600;color:#fff}.chat-message-user .message-role{color:#61dafb}.chat-message-assistant .message-role{color:#ffa726}.chat-message-error .message-role{color:#ff6b6b}.message-time{margin-left:auto;color:#666;font-size:11px}.message-content{color:#ccc;font-size:var(--assistant-font-size, 14px);line-height:1.6;white-space:pre-wrap;word-wrap:break-word}.chat-message-error .message-content{color:#ff6b6b}.command-preview{margin-top:8px;padding:12px;background:#2a2a2a;border:1px solid #444;border-radius:6px}.command-preview-header{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:12px}.command-icon{font-size:16px}.command-label{font-weight:600;color:#fff}.command-badge{margin-left:auto;padding:2px 8px;border-radius:3px;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.command-safe{background:#1f3a1f;color:#4caf50;border:1px solid #2f4a2f}.command-review{background:#3a2f1f;color:#ffa726;border:1px solid #4a3f2f}.command-description{margin-bottom:8px;color:#999;font-size:13px;line-height:1.4}.command-code{margin-bottom:12px;padding:10px;background:#1e1e1e;border:1px solid #333;border-radius:4px;overflow-x:auto}.command-code code{color:#61dafb;font-family:Courier New,monospace;font-size:13px;white-space:pre}.command-actions{display:flex;gap:8px}.command-action-button{flex:1;padding:8px 16px;border:none;border-radius:4px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}.command-execute{background:#61dafb;color:#1e1e1e}.command-execute:hover:not(:disabled){background:#4fc3f7}.command-execute:disabled{opacity:.5;cursor:not-allowed}.command-copy{background:#444;color:#fff}.command-copy:hover{background:#555}.model-test-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.model-test-modal{background:#252525;border:1px solid #404040;border-radius:8px;box-shadow:0 10px 40px #00000080;max-width:400px;width:90%;animation:slideIn .2s ease-out}.model-test-modal-content{padding:24px;border-bottom:1px solid #404040}.model-test-modal-content h3{margin:0 0 16px;color:#fff;font-size:18px;font-weight:600}.model-test-modal-content p{margin:0 0 12px;color:#ccc;font-size:14px;line-height:1.5}.model-test-modal-content p:last-child{margin-bottom:0}.model-test-info{color:#999!important;font-size:13px!important;font-style:italic}.model-test-modal-actions{display:flex;gap:12px;padding:16px 24px;justify-content:flex-end}.model-test-btn{padding:8px 16px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.model-test-btn:disabled{opacity:.6;cursor:not-allowed}.model-test-btn-cancel{background:#404040;color:#ccc}.model-test-btn-cancel:hover:not(:disabled){background:#505050;color:#fff}.model-test-btn-confirm{background:#2d7a3e;color:#fff}.model-test-btn-confirm:hover:not(:disabled){background:#359847}.model-test-status-bar{background:#2a2a2a;border-bottom:1px solid #404040;padding:12px 16px;animation:slideDown .3s ease-out}.model-test-status-content{display:flex;align-items:flex-start;gap:12px}.model-test-spinner{flex-shrink:0;width:16px;height:16px;border:2px solid #404040;border-top-color:#4a9eff;border-radius:50%;animation:spin .8s linear infinite}.model-test-status-info{flex:1;min-width:0}.model-test-status-message{color:#fff;font-size:13px;font-weight:500;margin-bottom:8px}.model-test-progress-wrapper{display:flex;gap:8px;align-items:center;margin-bottom:8px}.model-test-progress-bar{flex:1;height:4px;background:#404040;border-radius:2px;overflow:hidden}.model-test-progress-fill{height:100%;background:linear-gradient(90deg,#4a9eff,#2d7a3e);transition:width .3s ease;border-radius:2px}.model-test-progress-text{color:#999;font-size:11px;font-weight:500;min-width:30px;text-align:right}.model-test-warning{color:#ffb84d;font-size:12px;padding:6px 8px;background:#3d2f1a;border-radius:3px;border-left:2px solid #ffb84d}.model-test-info-text{color:#4a9eff;font-size:12px;padding:6px 8px;background:#1a2d3d;border-radius:3px;border-left:2px solid #4a9eff}.train-model-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.train-model-modal{background:#252525;border:1px solid #404040;border-radius:8px;box-shadow:0 10px 40px #00000080;max-width:450px;width:90%;animation:slideIn .2s ease-out}@keyframes slideIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.train-model-modal-content{padding:24px;border-bottom:1px solid #404040}.train-model-modal-content h3{margin:0 0 16px;color:#fff;font-size:18px;font-weight:600}.train-model-modal-content p{margin:0 0 12px;color:#ccc;font-size:14px;line-height:1.5}.train-model-modal-content p:last-child{margin-bottom:0}.train-model-info{color:#999!important;font-size:13px!important}.train-model-note{color:#4a9eff!important;font-size:12px!important;padding:8px 12px;background:#1a2d3d;border-left:2px solid #4a9eff;border-radius:3px}.train-model-modal-actions{display:flex;gap:12px;padding:16px 24px;justify-content:flex-end}.train-model-btn{padding:8px 16px;border:none;border-radius:4px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}.train-model-btn:disabled{opacity:.6;cursor:not-allowed}.train-model-btn-cancel{background:#404040;color:#ccc}.train-model-btn-cancel:hover:not(:disabled){background:#505050;color:#fff}.train-model-btn-confirm{background:#2d5a3e;color:#fff}.train-model-btn-confirm:hover:not(:disabled){background:#357a4a}.train-model-status-bar{background:#2d3a2a;border-bottom:1px solid #3d4d3a;padding:12px 16px;animation:slideDown .3s ease-out}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.train-model-status-content{display:flex;align-items:flex-start;gap:12px}.train-model-spinner{flex-shrink:0;width:16px;height:16px;border:2px solid #3d4d3a;border-top-color:#6b9e5f;border-radius:50%;animation:spin .8s linear infinite}.train-model-status-info{flex:1;min-width:0}.train-model-status-message{color:#fff;font-size:13px;font-weight:500;margin-bottom:8px}.train-model-progress-wrapper{display:flex;gap:8px;align-items:center;margin-bottom:8px}.train-model-progress-bar{flex:1;height:4px;background:#3d4d3a;border-radius:2px;overflow:hidden}.train-model-progress-fill{height:100%;background:linear-gradient(90deg,#6b9e5f,#357a4a);transition:width .3s ease;border-radius:2px}.train-model-progress-text{color:#999;font-size:11px;font-weight:500;min-width:30px;text-align:right}.train-model-training-note{color:#6b9e5f;font-size:12px;padding:6px 8px;background:#2d3a2a;border-radius:3px;border-left:2px solid #6b9e5f}.train-model-success-note{color:#6b9e5f;font-size:12px;padding:6px 8px;background:#2d3a2a;border-radius:3px;border-left:2px solid #6b9e5f;font-weight:500}.assistant-panel{position:relative;width:100%;height:100%;background:#1e1e1e;display:flex;flex-direction:column}.assistant-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #333;background:#252525}.assistant-title{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#fff}.assistant-icon{font-size:20px}.assistant-close{display:none}.assistant-error{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#3a1f1f;border-bottom:1px solid #5a2f2f;color:#ff6b6b;font-size:13px}.error-icon{flex-shrink:0}.error-action{margin-left:auto;padding:4px 12px;background:#5a2f2f;border:1px solid #7a3f3f;color:#ff6b6b;border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s}.error-action:hover{background:#6a3f3f}.assistant-setup{padding:24px;color:#ccc}.assistant-setup h3{margin:0 0 16px;color:#fff}.assistant-setup p{margin:0 0 12px;font-size:14px}.assistant-setup ol{margin:0 0 20px;padding-left:20px}.assistant-setup li{margin:8px 0;font-size:14px}.assistant-setup code{background:#2a2a2a;padding:2px 6px;border-radius:3px;font-family:Courier New,monospace;color:#61dafb}.assistant-setup a{color:#61dafb;text-decoration:none}.assistant-setup a:hover{text-decoration:underline}.setup-check-button{padding:10px 20px;background:#61dafb;color:#1e1e1e;border:none;border-radius:4px;cursor:pointer;font-weight:600;transition:all .2s}.setup-check-button:hover{background:#4fc3f7}.assistant-status{display:flex;flex-direction:column;padding:8px 16px;background:#1f3a1f;border-bottom:1px solid #2f4a2f;font-size:12px;color:#a8e6a8;transition:all .3s ease;-webkit-user-select:none;user-select:none}.assistant-status.expanded{background:#1a2f1a;max-height:400px;overflow-y:auto}.status-main{display:flex;align-items:center;gap:8px;padding:4px 0}.status-indicator{width:8px;height:8px;border-radius:50%;flex-shrink:0}.status-online{background:#4caf50;box-shadow:0 0 6px #4caf50}.status-text{flex:1;font-size:13px;font-weight:500}.status-action{font-size:11px;color:#81c784;opacity:.7;transition:opacity .2s}.assistant-status:hover .status-action{opacity:1}.model-selector-dropdown{margin-top:8px;padding:8px 0;border-top:1px solid #2f4a2f;display:flex;flex-direction:column;gap:4px;max-height:300px;overflow-y:auto}.model-option{padding:10px 12px;background:#252525;border:1px solid #333;border-radius:6px;cursor:pointer;transition:all .2s}.model-option:hover:not(.disabled){background:#2a2a2a;border-color:#4caf50}.model-option.selected{background:#1f3a1f;border-color:#4caf50;box-shadow:0 0 0 1px #4caf50}.model-option.disabled{opacity:.5;cursor:not-allowed}.model-name{font-size:13px;font-weight:600;color:#fff;margin-bottom:4px}.model-meta{display:flex;flex-wrap:wrap;gap:8px;font-size:11px;color:#999}.model-size{color:#81c784}.model-perf{padding:2px 6px;border-radius:3px;font-weight:500;font-size:10px}.model-perf.perf-fast,.model-perf.perf-very-fast{background:#1f3a1f;color:#81c784}.model-perf.perf-balanced{background:#3a3a1f;color:gold}.model-perf.perf-slow{background:#3a1f1f;color:#ff8a80}.model-best{color:#64b5f6;font-style:italic}.assistant-messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:16px}.assistant-messages::-webkit-scrollbar{width:8px}.assistant-messages::-webkit-scrollbar-track{background:#1e1e1e}.assistant-messages::-webkit-scrollbar-thumb{background:#444;border-radius:4px}.assistant-messages::-webkit-scrollbar-thumb:hover{background:#555}.assistant-welcome{color:#999;font-size:14px}.assistant-welcome p{margin:0 0 12px}.welcome-examples{margin-top:16px;padding:12px;background:#252525;border-radius:6px}.welcome-examples p{margin:0 0 8px;color:#ccc;font-weight:600}.welcome-examples ul{margin:0;padding-left:20px}.welcome-examples li{margin:6px 0;color:#888;font-style:italic}.assistant-loading{display:flex;align-items:center;gap:12px;padding:12px;background:#252525;border-radius:6px;color:#888;font-size:14px}.loading-dots{display:flex;gap:4px}.loading-dots span{width:6px;height:6px;background:#61dafb;border-radius:50%;animation:loading-bounce 1.4s infinite ease-in-out both}.loading-dots span:nth-child(1){animation-delay:-.32s}.loading-dots span:nth-child(2){animation-delay:-.16s}@keyframes loading-bounce{0%,80%,to{transform:scale(0);opacity:.5}40%{transform:scale(1);opacity:1}}.assistant-input-form{display:flex;gap:8px;padding:16px;border-top:1px solid #333;background:#252525}.assistant-input{flex:1;padding:12px;background:#1e1e1e;border:1px solid #444;border-radius:6px;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:14px;resize:none;outline:none;transition:border-color .2s}.assistant-input:focus{border-color:#61dafb}.assistant-input:disabled{opacity:.5;cursor:not-allowed}.assistant-send-button{width:40px;height:40px;padding:0;background:#61dafb;border:none;border-radius:6px;color:#1e1e1e;font-size:20px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0}.assistant-send-button:hover:not(:disabled){background:#4fc3f7;transform:scale(1.05)}.assistant-send-button:disabled{opacity:.3;cursor:not-allowed}@media (max-width: 768px){.assistant-panel{width:100%}}:root{--bg: #0a0a0a;--surface: #171717;--overlay: #262626;--text: #e5e5e5;--subtext: #a3a3a3;--accent: #f97316;--accent-glow: rgba(249, 115, 22, .4);--accent-secondary: #ef4444;--cursor-color: #f97316;--yellow: #facc15;--green: #22c55e;--red: #ef4444;--card-bg: #171717;--card-border: #262626;--card-hover-border: #f97316;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .4);--shadow-md: 0 4px 20px rgba(0, 0, 0, .6);--shadow-glow: 0 0 20px var(--accent-glow);--gradient-primary: linear-gradient(135deg, #f97316 0%, #ef4444 100%);--gradient-card: linear-gradient(145deg, #171717 0%, #0a0a0a 100%)}.light{--bg: #f5f5f4;--surface: #ffffff;--overlay: #e7e5e4;--text: #1c1917;--subtext: #57534e;--accent: #ea580c;--accent-glow: rgba(234, 88, 12, .3);--accent-secondary: #dc2626;--yellow: #ca8a04;--green: #16a34a;--red: #dc2626;--card-bg: #ffffff;--card-border: #e7e5e4;--card-hover-border: #ea580c;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .05);--shadow-md: 0 4px 12px rgba(0, 0, 0, .1);--shadow-glow: 0 0 15px var(--accent-glow);--gradient-primary: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);--gradient-card: linear-gradient(145deg, #ffffff 0%, #fafaf9 100%)}*{margin:0;padding:0;box-sizing:border-box}body{background:var(--bg);color:var(--text);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;transition:background .3s,color .3s}.app{display:flex;height:100vh;overflow:hidden}.app.sidebar-left .sidebar{border-left:none;border-right:1px solid var(--overlay)}.terminal-pane{flex:1;display:flex;flex-direction:column;background:#000;overflow:hidden}.app.with-editor .terminal-pane{max-width:60%}.editor-panel{width:40%;min-width:300px;max-width:50%;display:flex;flex-direction:column;background:var(--bg-primary);border-left:1px solid var(--border-color)}.terminal-pane-content{flex:1;padding:8px;display:flex;flex-direction:column;overflow:hidden}.terminal-pane .xterm-screen{cursor:var(--cursor-svg, url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'><path d='M5 2L5 20L9 16L12 22L15 21L12 15L18 15Z' fill='%23f97316' stroke='%23000' stroke-width='1.5'/></svg>") 5 2, default)!important}.shell-toggle{border-radius:6px;border:1px solid var(--accent);background:transparent;color:var(--accent);transition:all .2s ease}.shell-toggle:hover{background:var(--accent);color:#000;box-shadow:var(--shadow-glow)}.font-size-controls{display:flex;align-items:center;gap:2px;background:var(--overlay);border-radius:6px;padding:2px}.font-size-controls .btn-icon{padding:4px 6px}.font-size-controls .btn-icon:disabled{opacity:.3;cursor:not-allowed}.font-size-display{font-size:11px;font-weight:500;color:var(--text-muted);min-width:32px;text-align:center;-webkit-user-select:none;user-select:none}.sidebar{width:360px;background:var(--surface);padding:20px;overflow-y:auto;border-left:1px solid var(--overlay);display:flex;flex-direction:column;transition:background .3s,border-color .3s}.sidebar-resizer{width:6px;cursor:col-resize;background:transparent;transition:background .12s}.sidebar-resizer:hover{background:#ffffff08}.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.sidebar-header h3{font-size:1.2rem;font-weight:700;background:var(--gradient-primary);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.sidebar-view-tabs{display:flex;gap:4px;padding:8px;background:var(--bg);border-bottom:1px solid var(--overlay)}.sidebar-view-tab{flex:1;display:flex;align-items:center;justify-content:center;gap:4px;padding:6px 8px;border:1px solid var(--overlay);background:transparent;color:var(--subtext);font-size:.75rem;font-weight:600;border-radius:6px;cursor:pointer;transition:all .2s ease;white-space:nowrap;min-width:0}.sidebar-view-tab:hover{background:var(--overlay);color:var(--text)}.sidebar-view-tab.active{background:var(--gradient-primary);border-color:var(--accent);color:#fff}.sidebar-path-hint{font-size:.75rem;color:var(--subtext);font-weight:400;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sidebar-content{flex:1;overflow-y:auto;overflow-x:hidden}.theme-controls{display:flex;align-items:center;gap:4px;margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid var(--overlay)}.theme-controls .spacer{flex:1}.terminal-controls{display:flex;align-items:center;gap:6px;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid var(--overlay)}.header-actions{display:flex;gap:8px}.btn{padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .2s;display:inline-flex;align-items:center;justify-content:center;gap:6px}.btn-icon{padding:8px;border-radius:8px}.btn-icon.btn-sm{padding:4px 6px}.btn-primary{background:var(--gradient-primary);color:#fff;box-shadow:var(--shadow-glow)}.btn-primary:hover{transform:translateY(-1px);box-shadow:0 4px 12px var(--accent-glow)}.btn-secondary{background:var(--overlay);color:var(--text)}.btn-secondary:hover{background:var(--subtext);color:var(--bg)}.btn-ghost{background:transparent;color:var(--subtext)}.btn-ghost:hover{background:var(--overlay);color:var(--text)}.btn-feedback{background:var(--accent);color:#fff;box-shadow:0 0 10px var(--accent-glow)}.btn-feedback:hover{background:var(--accent-secondary);transform:translateY(-1px);box-shadow:0 0 15px var(--accent-glow)}.btn-danger{background:transparent;color:var(--red)}.btn-danger:hover{background:#ef44441a;color:var(--red)}.card{background:var(--card-bg);background-image:var(--gradient-card);border-radius:12px;padding:16px;margin-bottom:12px;border:1px solid var(--card-border);box-shadow:var(--shadow-sm);transition:all .2s ease;position:relative;overflow:hidden}.card:hover{border-color:var(--card-hover-border);box-shadow:var(--shadow-glow),var(--shadow-md);transform:translateY(-2px)}.card.dragging{opacity:.5;box-shadow:var(--shadow-md);cursor:grabbing}.card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.card-title-row{display:flex;flex-direction:column;gap:4px}.keybinding-badge{background:var(--gradient-primary);color:#fff;font-size:.85rem;font-weight:700;padding:4px 8px;border-radius:6px;display:inline-block;align-self:flex-start;box-shadow:var(--shadow-glow)}.card-title{font-weight:700;font-size:1.3rem;color:var(--text)}.card-actions-top{display:flex;gap:4px;opacity:0;transition:opacity .2s}.card:hover .card-actions-top{opacity:1}.action-icon{color:var(--subtext);cursor:pointer;padding:4px;border-radius:4px;transition:color .2s,background .2s}.action-icon:hover{background:var(--overlay);color:var(--text)}.action-icon.delete:hover{color:var(--red);background:#f38ba81a}.card-body{margin-bottom:16px}.command-preview{display:block;font-family:JetBrains Mono,monospace;font-size:1.1rem;font-weight:500;color:var(--subtext);background:#0003;padding:8px 10px;border-radius:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border:1px solid rgba(255,255,255,.05)}.card-footer{display:flex;gap:8px}.card-footer.paste-only .btn-action{flex:1}.btn-action{padding:8px;border-radius:6px;font-weight:600;font-size:.9rem;cursor:pointer;border:1px solid var(--overlay);background:transparent;color:var(--text);transition:all .2s;display:flex;align-items:center;justify-content:center;gap:6px}.btn-paste{flex:2;border-color:var(--accent);box-shadow:0 0 8px #f9731633}.btn-paste:hover{background:#f973161a;box-shadow:0 0 12px #f9731666}.btn-run{flex:8;background:var(--gradient-primary);color:#fff;border:none;box-shadow:var(--shadow-glow)}.btn-run:hover{opacity:.9;transform:translateY(-1px)}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:1000}.modal{background:var(--surface);padding:0;border-radius:16px;width:500px;max-width:90%;max-height:85vh;box-shadow:0 20px 50px #00000080;border:1px solid var(--overlay);display:flex;flex-direction:column;overflow:hidden}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:0;padding:32px 32px 24px;flex-shrink:0}.modal-header h2{font-size:1.5rem;font-weight:700}.form-group{margin-bottom:20px}.form-group label{display:block;margin-bottom:8px;font-size:.9rem;font-weight:500;color:var(--subtext)}.form-group input,.form-group textarea{width:100%;padding:12px;background:var(--bg);border:1px solid var(--overlay);border-radius:8px;color:var(--text);font-family:inherit;transition:border-color .2s}.form-group input:focus,.form-group textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-glow)}.modal-actions{display:flex;justify-content:flex-end;gap:12px;margin-top:32px;flex-shrink:0}.modal-body{flex:1;overflow-y:auto;overflow-x:hidden;padding:20px;margin-right:0;scrollbar-width:thin;scrollbar-color:var(--overlay) transparent}.modal-body::-webkit-scrollbar{width:12px}.modal-body::-webkit-scrollbar-track{background:transparent}.modal-body::-webkit-scrollbar-thumb{background:var(--overlay);border-radius:6px;transition:background .2s;border:3px solid transparent;background-clip:padding-box}.modal-body::-webkit-scrollbar-thumb:hover{background-color:var(--accent);background-clip:padding-box}.modal-footer{flex-shrink:0;padding:24px 32px 32px;border-top:1px solid var(--overlay);display:flex;justify-content:flex-end;gap:10px;margin-top:0}.toast-container{position:fixed;top:20px;right:20px;z-index:10000;display:flex;flex-direction:column;gap:10px;max-width:400px}.toast{display:flex;align-items:center;gap:12px;padding:14px 16px;border-radius:8px;box-shadow:var(--shadow-md);animation:slideIn .3s ease-out}.toast-enter{animation:slideIn .3s ease-out}.toast-exit{animation:slideOut .3s ease-out}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes slideOut{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}.toast-message{flex:1;font-size:.9rem;color:#e5e5e5}.toast-close{background:none;border:none;color:#a3a3a3;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:color .2s,background .2s}.toast-close:hover{color:#fff;background:#ffffff1a}.toast-action{background:#ffffff1a;border:none;padding:4px 12px;border-radius:4px;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s}.toast-action:hover{background:#fff3}.icon-select-btn{display:flex;align-items:center;justify-content:center;gap:4px;width:60px;height:42px;background:var(--bg);border:1px solid var(--overlay);border-radius:8px;color:var(--text);cursor:pointer;transition:border-color .2s,box-shadow .2s}.icon-select-btn:hover{border-color:var(--accent)}.icon-select-btn:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-glow)}.icon-picker{background:var(--surface);border:1px solid var(--overlay);border-radius:8px;padding:12px;margin-bottom:16px;max-height:300px;overflow-y:auto}.icon-picker-search{width:100%;padding:8px 12px;background:var(--bg);border:1px solid var(--overlay);border-radius:6px;color:var(--text);margin-bottom:12px;font-size:.9rem}.icon-picker-search:focus{outline:none;border-color:var(--accent)}.icon-category{margin-bottom:12px}.icon-category-title{font-size:.75rem;font-weight:600;color:var(--subtext);text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px}.icon-grid{display:grid;grid-template-columns:repeat(8,1fr);gap:4px}.icon-option{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent;border:1px solid transparent;border-radius:6px;color:var(--text);cursor:pointer;transition:all .15s}.icon-option:hover{background:var(--overlay);border-color:var(--accent)}.icon-option.selected{background:var(--accent);color:#000;border-color:var(--accent)}.icon-option-clear{font-size:.8rem;color:var(--subtext)}.command-icon{color:var(--accent);flex-shrink:0;margin-right:8px}.tab-bar{display:flex;align-items:center;background:var(--surface);border-bottom:1px solid var(--overlay);height:36px;padding:0 4px;gap:2px}.tab-bar-scroll{display:flex;align-items:center;flex:1;overflow-x:auto;overflow-y:hidden;gap:2px;scrollbar-width:none;-ms-overflow-style:none}.tab-bar-scroll::-webkit-scrollbar{display:none}.tab{display:flex;align-items:center;gap:6px;padding:6px 8px;background:transparent;border:1px solid transparent;border-radius:6px 6px 0 0;cursor:pointer;min-width:100px;max-width:180px;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-user-select:none;user-select:none;position:relative;overflow:hidden;transform:scale(.85);opacity:.75;box-shadow:none}.tab:hover{background:var(--overlay);transform:scale(.92);opacity:.9;box-shadow:0 2px 4px #0000001a}.tab.waiting{animation:tab-waiting-pulse 2s ease-in-out infinite}@keyframes tab-waiting-pulse{0%,to{box-shadow:none}50%{box-shadow:0 0 8px var(--tab-accent, var(--accent))}}@keyframes tab-activate-pulse{0%{transform:scale(1.05)}to{transform:scale(1.08)}}@keyframes tab-bead-of-light{0%{background-position:0% 0%}to{background-position:360% 0%}}.tab.auto-respond{border-left:2px solid var(--tab-accent, var(--accent))}.tab.am-enabled{border-right:2px solid #10b981}.tab.am-enabled.auto-respond{border-left:2px solid var(--tab-accent, var(--accent));border-right:2px solid #10b981}.am-indicator{display:flex;align-items:center;justify-content:center;color:#10b981;margin-right:2px;flex-shrink:0}.vision-indicator{display:flex;align-items:center;justify-content:center;color:#3b82f6;margin-right:2px;flex-shrink:0}.auto-respond-indicator{display:flex;align-items:center;justify-content:center;color:var(--tab-accent, var(--accent));margin-right:2px;flex-shrink:0}.tab.active{position:relative;background:var(--bg);border-color:var(--overlay);border-bottom-color:var(--tab-accent, var(--accent));border-bottom-width:3px;margin-bottom:-1px;padding-bottom:5px;transform:scale(1.08);opacity:1;box-shadow:0 4px 12px #00000026;animation:tab-activate-pulse .3s ease-out}.tab.active:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:6px 6px 0 0;padding:1px;background:conic-gradient(from 0deg,var(--tab-accent, var(--accent)),#ff6b6b,var(--tab-accent, var(--accent)));background-size:360% 360%;animation:tab-bead-of-light 3s linear infinite;-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none}.tab-icon{display:flex;align-items:center;justify-content:center;color:var(--subtext);flex-shrink:0}.tab.active .tab-icon{color:var(--accent);text-shadow:0 0 6px var(--tab-accent, var(--accent))}.tab-title{flex:1;font-size:.85rem;font-weight:600;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.8}.tab.active .tab-title{font-weight:700;opacity:1}.tab-close{display:flex;align-items:center;justify-content:center;padding:2px;background:transparent;border:none;border-radius:4px;color:var(--subtext);cursor:pointer;opacity:0;transition:all .15s ease}.tab:hover .tab-close,.tab.active .tab-close{opacity:1}.tab-close:hover{background:var(--overlay);color:var(--red)}.tab-title-input{flex:1;font-size:.85rem;font-weight:500;color:var(--text);background:var(--bg);border:1px solid var(--accent);border-radius:3px;padding:2px 4px;min-width:60px;outline:none}.tab-context-menu{position:fixed;background:var(--surface);border:1px solid var(--overlay);border-radius:6px;box-shadow:var(--shadow-md);padding:4px;z-index:1000;min-width:120px}.tab-context-menu button{display:flex;align-items:center;gap:8px;width:100%;padding:8px 12px;background:transparent;border:none;border-radius:4px;color:var(--text);font-size:.85rem;cursor:pointer;text-align:left;transition:background .15s ease}.tab-context-menu button:hover{background:var(--overlay)}.tab-context-menu button.active{color:var(--accent)}.tab-context-menu button.active svg{color:var(--accent)}.tab-context-menu button svg{color:var(--subtext)}.new-tab-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;background:transparent;border:1px solid transparent;border-radius:6px;color:var(--subtext);cursor:pointer;transition:all .15s ease;flex-shrink:0}.new-tab-btn:hover:not(:disabled){background:var(--overlay);color:var(--text);border-color:var(--overlay)}.new-tab-btn:disabled{opacity:.3;cursor:not-allowed}.terminal-container{flex:1;position:relative;overflow:hidden}.terminal-wrapper{position:absolute;top:0;left:0;right:0;bottom:0}.terminal-wrapper.hidden{visibility:hidden;pointer-events:none}.terminal-outer-container{position:relative;width:100%;height:100%}.terminal-inner{width:100%;height:100%}.terminal-connection-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:#000000d9;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000}.connection-status{background:var(--surface);border:2px solid var(--overlay);border-radius:12px;padding:30px 40px;display:flex;flex-direction:column;align-items:center;gap:8px;box-shadow:var(--shadow-md);text-align:center;max-width:400px}.connection-status .spinner{width:24px;height:24px;border:3px solid var(--overlay);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite;margin-bottom:8px}@keyframes spin{to{transform:rotate(360deg)}}.scroll-to-bottom-btn{position:absolute;bottom:20px;right:20px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--surface);border:1px solid var(--overlay);border-radius:50%;color:var(--text);cursor:pointer;box-shadow:var(--shadow-md);transition:all .2s ease;z-index:10;opacity:.9}.scroll-to-bottom-btn:hover{background:var(--accent);border-color:var(--accent);color:#fff;opacity:1;transform:scale(1.1)}.scroll-to-bottom-btn:active{transform:scale(.95)}.search-bar{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--surface);border-bottom:1px solid var(--overlay)}.search-input-wrapper{display:flex;align-items:center;flex:1;gap:8px;background:var(--bg);border:1px solid var(--overlay);border-radius:6px;padding:6px 10px;transition:border-color .2s}.search-input-wrapper:focus-within{border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-glow)}.search-icon{color:var(--subtext);flex-shrink:0}.search-input{flex:1;background:transparent;border:none;color:var(--text);font-size:.9rem;outline:none;min-width:150px}.search-input::placeholder{color:var(--subtext)}.search-count{font-size:.8rem;color:var(--subtext);white-space:nowrap;padding:2px 6px;background:var(--overlay);border-radius:4px}.search-no-results{font-size:.8rem;color:var(--red);white-space:nowrap}.search-actions{display:flex;align-items:center;gap:4px}.search-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;padding:0;background:transparent;border:1px solid transparent;border-radius:6px;color:var(--subtext);cursor:pointer;transition:all .15s ease}.search-btn:hover:not(:disabled){background:var(--overlay);color:var(--text);border-color:var(--overlay)}.search-btn:disabled{opacity:.3;cursor:not-allowed}.search-btn.search-close:hover{color:var(--red)}.btn-icon.update-available{position:relative;animation:pulse-update 2s ease-in-out infinite}@keyframes pulse-update{0%,to{box-shadow:0 0 #8b5cf666}50%{box-shadow:0 0 0 4px #8b5cf600}}.update-badge{position:absolute;top:2px;right:2px;width:8px;height:8px;background:#8b5cf6;border-radius:50%;pointer-events:none}.welcome-modal{max-width:700px;width:95%;max-height:90vh;overflow-y:auto;padding:0;background:linear-gradient(180deg,var(--surface) 0%,var(--bg) 100%);border:1px solid var(--accent);box-shadow:0 0 60px var(--accent-glow),var(--shadow-md)}.welcome-content{padding:2rem;text-align:center}.welcome-ascii{font-family:Cascadia Code,Fira Code,Consolas,Monaco,monospace;font-size:.65rem;line-height:1.1;color:var(--accent);white-space:pre;margin:0 auto;text-shadow:0 0 10px var(--accent-glow);overflow-x:auto}@media (max-width: 600px){.welcome-ascii{font-size:.45rem}}.welcome-subtitle{font-size:1.5rem;font-weight:300;letter-spacing:.5em;color:var(--subtext);margin-top:-.5rem;margin-bottom:.5rem}.welcome-version{font-size:.9rem;color:var(--accent);font-weight:600;margin-bottom:1rem}.welcome-tagline{margin-bottom:2rem}.welcome-quote{font-style:italic;color:var(--subtext);font-size:1rem}.welcome-features{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem;margin-bottom:2rem;text-align:left}.welcome-feature{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem;background:var(--card-bg);border:1px solid var(--card-border);border-radius:8px;transition:all .2s ease}.welcome-feature:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 4px 12px #0003}.welcome-feature-icon{flex-shrink:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--accent-glow);border-radius:8px;color:var(--accent)}.welcome-feature-text{display:flex;flex-direction:column;gap:.25rem}.welcome-feature-text strong{color:var(--text);font-size:.95rem}.welcome-feature-text span{color:var(--subtext);font-size:.85rem}.welcome-footer{display:flex;flex-direction:column;align-items:center;gap:1rem}.welcome-start-btn{display:flex;align-items:center;gap:.5rem;padding:.75rem 2rem;font-size:1rem;background:var(--gradient-primary);border:none;border-radius:8px;color:#fff;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 15px var(--accent-glow)}.welcome-start-btn:hover{transform:translateY(-2px);box-shadow:0 6px 25px var(--accent-glow)}.welcome-hint{font-size:.8rem;color:var(--subtext);opacity:.7}.am-restore-card{background:linear-gradient(135deg,var(--accent-glow) 0%,var(--card-bg) 100%);border:2px solid var(--accent);animation:pulse-border 2s ease-in-out infinite}@keyframes pulse-border{0%,to{border-color:var(--accent);box-shadow:0 0 10px var(--accent-glow)}50%{border-color:var(--accent-bright);box-shadow:0 0 20px var(--accent-glow)}}.am-restore-card .card-icon{color:var(--accent);animation:rotate 2s linear infinite}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.am-restore-info{display:flex;flex-direction:column;gap:.75rem}.am-restore-message{margin:0;color:var(--text);font-size:.95rem}.am-restore-activity{display:flex;flex-direction:column;gap:.25rem;padding:.5rem;background:var(--bg-secondary);border-radius:4px;border-left:3px solid var(--accent)}.am-restore-activity small{color:var(--subtext);font-size:.75rem;text-transform:uppercase;letter-spacing:.5px}.activity-preview{font-family:Cascadia Code,Fira Code,Consolas,monospace;font-size:.85rem;color:var(--text);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.am-restore-footer{flex-direction:column;gap:.5rem}.restore-actions{display:flex;gap:.5rem;width:100%}.btn-restore{flex:1;background:var(--gradient-primary);color:#fff;font-weight:600;transition:all .2s ease}.btn-restore:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px var(--accent-glow)}.btn-restore:disabled{opacity:.5;cursor:not-allowed}.btn-view-log{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;background:transparent;border:1px solid var(--card-border);color:var(--subtext);transition:all .2s ease}.btn-view-log:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-glow)}.command-cards-loading,.command-cards-error,.command-cards-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;color:var(--subtext);gap:1rem}.command-cards-loading .spinner{width:32px;height:32px;border:3px solid var(--overlay);border-top-color:var(--accent);border-radius:50%;animation:spin .8s linear infinite}.command-cards-error{color:var(--red)}.command-cards-error .error-message{font-size:1.1rem;font-weight:600;margin-bottom:.5rem}.command-cards-error .error-details{font-size:.9rem;color:var(--subtext);margin-bottom:1rem}.command-cards-empty{opacity:.7}.am-monitor{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:6px;font-size:.8em;font-weight:500;transition:all .2s ease;-webkit-user-select:none;user-select:none}.am-monitor svg{flex-shrink:0}.am-monitor.clickable:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0000004d}.am-monitor.am-active{background:#1a2e1a;color:#4ade80;border:1px solid #22c55e30}.am-monitor.am-recording{background:#2e1a1a;color:#f87171;border:1px solid #ef444450}.am-monitor.am-recording .recording-dot{animation:pulse-recording 1s ease-in-out infinite}@keyframes pulse-recording{0%,to{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(.85)}}.am-monitor.am-disabled{background:#262626;color:#666;border:1px solid #33333340}.am-monitor.am-disabled:hover{color:#888}.am-monitor.am-stale{background:#2e2419;color:#f97316;border:1px solid #ea580c40}.am-monitor.am-warning{background:#2e2a1a;color:#fbbf24;border:1px solid #f59e0b40}.am-monitor.am-loading{background:#1a2a2e;color:#06b6d4;border:1px solid #06b6d440}.am-monitor.am-loading svg{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.command-sidebar .am-monitor{margin:0 10px 10px}
